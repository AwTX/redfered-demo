(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{6605:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invitationcode",function(){return n(6672)}])},892:function(t,e,n){"use strict";n.d(e,{$g:function(){return call_api_get_api_secret},EE:function(){return call_api_add_new_contract_item},JT:function(){return call_api_update_contract_text},NM:function(){return call_api_update_sign},P3:function(){return call_api_get_user_contracts},Sq:function(){return call_api_pool_users},Vm:function(){return call_api_delete_contract},dV:function(){return call_api_get_img_url},fo:function(){return call_api_get_contract},gk:function(){return call_api_submitInvitationCode}});var a=n(1002);async function call_api_submitInvitationCode(t){let e=await fetch(a.T5+"/invitationcode?code="+t),n=await e.json();return n}async function call_api_pool_users(t){let e=await fetch(a.T5+"/pool_users",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}),n=await e.json(),i=n.users;return i}async function call_api_get_contract(t,e){let n=await fetch(a.T5+"/contract?contractId="+t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),i=await n.json();return i.contract}async function call_api_get_user_contracts(t){let e=await fetch(a.T5+"/user_contracts",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}),n=await e.json();return n.contracts}async function call_api_get_img_url(t){let e=await fetch(a.T5+"/img_url",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}),n=await e.json();return n.img_url}async function call_api_get_api_secret(t){let e=await fetch(a.T5+"/apisecret",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}),n=await e.json();return n.API_SECRET}async function call_api_add_new_contract_item(t,e,n,i){let o=await fetch(a.T5+"/add_new_contract_item",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({partyA:t,partyB:e,text:n})}),c=await o.json();return c}async function call_api_update_sign(t,e,n,i){let o=await fetch(a.T5+"/update_sign",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({contractId:t,user:e,sign:n})}),c=await o.json();return c}async function call_api_update_contract_text(t,e,n,i){let o=await fetch(a.T5+"/update_contract_text",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({contractId:t,text:e,user:n})}),c=await o.json();return c}async function call_api_delete_contract(t,e){let n=await fetch(a.T5+"/delete_contract_item",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({contractId:t})}),i=await n.json();return i}},1002:function(t,e,n){"use strict";n.d(e,{Mr:function(){return o},Rf:function(){return i},T5:function(){return a}});let a="https://bs1a7ie37i.execute-api.eu-west-1.amazonaws.com/prod",i="eu-west-1_AfZKtqHom",o="1bshmkjde5rb1011amu8d0996i"},6672:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return InvitationCodePage}});var a=n(5893),i=n(1163),o=n(7294),c=n(892);function InvitationCodePage(){let t=(0,i.useRouter)(),[e,n]=(0,o.useState)(null),submit=async n=>{var a;n.preventDefault();let i=document.getElementById("uncorrect"),o=document.getElementById("correct");function showRedCross(){o.classList.contains("hidden")||o.classList.add("hidden"),i.classList.remove("hidden"),setTimeout(async()=>{i.classList.add("hidden")},2e3)}try{if(a=await (0,c.gk)(e),console.log("res:",a),"Success"!==a.result){showRedCross();return}}catch(t){console.log("Error:",t),showRedCross();return}i.classList.contains("hidden")||i.classList.add("hidden"),o.classList.remove("hidden"),setTimeout(async()=>{o.classList.add("hidden")},2e3),t.push("/signup")};return(0,a.jsx)("div",{className:"bg-[url(./../public/bg.png)] h-screen w-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"max-w-md p-8 rounded shadow-md",children:[(0,a.jsx)("h2",{className:"text-gray-700 text-2xl font-bold mb-4",children:"Enter Invitation Code"}),(0,a.jsxs)("form",{onSubmit:submit,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"invitationCode",className:"text-gray-700 font-bold mb-2",children:"Invitation Code:"}),(0,a.jsx)("input",{type:"text",id:"invitationCode",value:e,onChange:t=>n(t.target.value),className:"input-field"})]}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)("button",{type:"submit",className:"relative flex bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Verify"}),(0,a.jsx)("img",{id:"correct",className:"relative flex mx-4 h-8 w-8 hidden",src:"./checked.svg"},"correct"),(0,a.jsx)("img",{id:"uncorrect",className:"relative flex mx-4 h-8 w-8 hidden",src:"./Cross_red_circle.svg"},"uncorrect")]})]})]})})}},1163:function(t,e,n){t.exports=n(9974)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=6605)}),_N_E=t.O()}]);