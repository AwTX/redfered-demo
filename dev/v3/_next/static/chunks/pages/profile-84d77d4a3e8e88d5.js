(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(4192)}])},4192:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ProfilePage}});var a=n(5893);n(7262);var o=n(7294),l=n(6808),s=n.n(l),i=n(7459),r=n(6837),c=n(5697),d=n.n(c),u=n(3288),p=n(44),f=n(323),m=n(4597),h=n(9417),x=n(7152),g=n(1002),b=n(5450),j=n(9007),w=n(892);let P=(0,m.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function StandardImageList(e){let{data:t}=e;return(console.log(t),console.log("data type: ",typeof t),void 0===t||0===t.length)?(0,a.jsx)("div",{}):(0,a.jsx)(b.Z,{sx:{width:500,height:450},cols:3,rowHeight:200,children:t.map(e=>(0,a.jsx)(j.Z,{children:(0,a.jsx)("img",{srcSet:"".concat(e,"?w=164&h=164&fit=crop&auto=format&dpr=2 2x"),src:"".concat(e,"?w=164&h=164&fit=crop&auto=format"),alt:e,loading:"lazy"})},e))})}function InputFileUpload(){let e=s().get("accessToken"),[t,n]=(0,o.useState)([]);return(0,o.useEffect)(async()=>{let t=await (0,w.dV)(e);console.log("[img_url] =",[t]),n([t])},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)(StandardImageList,{data:t}),(0,a.jsxs)(h.Z,{component:"label",role:void 0,variant:"contained",tabIndex:-1,startIcon:(0,a.jsx)(x.Z,{}),children:["Upload files",(0,a.jsx)(P,{type:"file",onChange:t=>{console.log(t.target.files);let a=t.target.files[0];!function(t){if(void 0==t){console.log("Error: file undefined");return}if(!(t instanceof File)&!(t instanceof Blob)){console.log("Error: file must be of type File or Blob");return}let a=new FileReader;a.onload=function(){let o={};o.filename=t.name;let l=a.result,s=l.split(";base64,")[1];o.imageAsBase64String=s,o.metadata={"Content-Type":"image/png"};let i=new XMLHttpRequest;i.open("POST",g.T5+"/img",!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Authorization","Bearer "+e),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE&&200===i.status){let e=JSON.parse(i.responseText);"Success"==e.result?(console.log("Uploaded"),n([e.img_url])):console.log("failed to upload")}},i.send(JSON.stringify(o))},a.readAsDataURL(t)}(a)},multiple:!0})]})]})}var v=n(9830),y=n.n(v);function Profile(){return(0,a.jsx)("div",{className:"my-4 mx-4 flex w-3/4",children:(0,a.jsx)("div",{className:"my-4 bg-white w-1/6"})})}function CustomTabPanel(e){let{children:t,value:n,index:o,...l}=e;return(0,a.jsx)("div",{role:"tabpanel",hidden:n!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o),...l,children:n===o&&(0,a.jsx)(f.Z,{sx:{p:3},children:t})})}function a11yProps(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function BasicTabs(){let[e,t]=o.useState(0);return(0,a.jsxs)(f.Z,{sx:{width:"100%"},children:[(0,a.jsx)(f.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,a.jsxs)(u.Z,{value:e,onChange:e=>{t(e)},"aria-label":"basic tabs example",children:[(0,a.jsx)(p.Z,{label:"Profilo",...a11yProps(0),className:"".concat(y().className)}),(0,a.jsx)(p.Z,{label:"Logo",...a11yProps(1),className:"".concat(y().className)})]})}),(0,a.jsx)(CustomTabPanel,{value:e,index:0,children:(0,a.jsx)(Profile,{})}),(0,a.jsx)(CustomTabPanel,{value:e,index:1,children:(0,a.jsx)(InputFileUpload,{})})]})}function ProfilePage(){return(0,a.jsx)(i.default,{component:(0,a.jsx)(BasicTabs,{}),selected:r.g.Accounts})}CustomTabPanel.propTypes={children:d().node,index:d().number.isRequired,value:d().number.isRequired}}},function(e){e.O(0,[741,592,356,459,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);