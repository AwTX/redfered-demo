(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(846)}])},846:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return E}});var s=t(5893),n=t(1828),r=t(8439),a=t(7294),o=t(6485),i=t.n(o),c=function(e){let{text:l}=e,[t,n]=(0,a.useState)(!1),r=async()=>{try{await i()(l),n(!0)}catch(e){console.error("Failed to copy text to clipboard",e)}};return(0,s.jsx)("div",{children:(0,s.jsxs)("button",{onClick:r,class:"absolute end-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg p-2 inline-flex items-center justify-center",children:[(0,s.jsx)("span",{id:"default-icon-course-url",children:(0,s.jsx)("svg",{class:"w-3.5 h-3.5",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20",children:(0,s.jsx)("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})})}),(0,s.jsx)("span",{id:"success-icon-course-url",class:"hidden inline-flex items-center",children:(0,s.jsx)("svg",{class:"w-3.5 h-3.5 text-blue-700 dark:text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12",children:(0,s.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5.917 5.724 10.5 15 1.5"})})})]})})};function d(e){let{plugin_code:l,clicked:t}=e;return null==l||""==l?null:(console.log("Here is the plugin_code: ",l),(0,a.useEffect)(()=>{console.log("refreshing due to new plugin_code")},[l,t]),(0,s.jsx)("div",{id:"course-modal",class:"\n            ".concat(!0==t?"z-10 w-full align-items-center border-blue-500 overflow-y-auto overflow-x-hidden justify-center items-center h-[calc(100%-1rem)]":"z-10 w-full align-items-center border-blue-500 overflow-y-auto overflow-x-hidden justify-center items-center h-[calc(100%-1rem)] hidden","\n      "),children:(0,s.jsx)("div",{class:"relative p-4 w-full max-h-full",children:(0,s.jsxs)("div",{class:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,s.jsx)("div",{class:"flex items-center justify-between p-4 md:p-5",children:(0,s.jsx)("h3",{class:"text-lg text-gray-500 dark:text-gray-400",children:"Redfered API Secret"})}),(0,s.jsx)("div",{class:"px-4 pb-4 md:px-5 md:pb-5",children:(0,s.jsxs)("div",{class:"relative mb-4",children:[(0,s.jsx)("label",{id:"course-url",class:"col-span-6 bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:"****************************************************************"}),(0,s.jsx)(c,{text:l})]})})]})})}))}var u=t(6808),f=t.n(u),x=t(9499),m=t(8028),h=t.n(m);function g(e){let{label:l,type:t,value:n}=e;return(0,s.jsx)("div",{className:"w-3/4 rounded-lg",children:(0,s.jsx)("div",{className:"mb-2 block rounded-lg",children:(0,s.jsx)(x.Z,{id:l,label:l,type:t,variant:"filled",value:n,className:"my-2 rounded-lg"})})})}function p(){let[e,l]=(0,a.useState)({"custom:VATnumber":"","custom:location":"","custom:typeOfCompany":"",name:"",email:""});return(0,a.useEffect)(()=>{let e=f().get("idToken");l(function(e){let[l,t,s]=e.split("."),n=e=>{let l=e.replace(/-/g,"+").replace(/_/g,"/");return atob(l)},r=e=>{try{return JSON.parse(e)}catch(e){return console.error("Invalid JSON:",e),null}},a=r(n(l)),o=r(n(t));return{header:a,payload:o,signature:s}}(e).payload)},[]),(0,s.jsx)("div",{children:(0,s.jsx)("form",{className:"my-4 flex w-5/6 justify-between bg-white rounded-lg",children:(0,s.jsxs)("div",{className:"flex-col w-full h-full justify-between",children:[(0,s.jsxs)("div",{className:"mx-4 flex w-full justify-between",children:[(0,s.jsxs)("div",{className:"mx-4 flex-col w-full",children:[(0,s.jsx)(g,{type:"text",label:"Nome societ\xe0/Freelance",value:e.name}),(0,s.jsx)(g,{type:"text",label:"Email",value:e.email}),(0,s.jsx)(g,{type:"text",label:"Location",value:e["custom:location"]})]}),(0,s.jsxs)("div",{className:"mx-4 flex-col w-full",children:[(0,s.jsx)(g,{type:"text",label:"Ragione sociale",value:e["custom:typeOfCompany"]}),(0,s.jsx)(g,{type:"text",label:"Partita IVA",value:e["custom:VATnumber"]})]})]}),(0,s.jsx)("div",{className:"flex my-8 mx-4 justify-end",children:(0,s.jsx)("button",{type:"submit",className:"text-white bg-[#16DBCC] focus:ring-4 focus:outline-none font-medium rounded-full px-5 py-2.5 text-center ".concat(h().className," text-[20px]"),children:"Salva"})})]})})})}var b=t(9533),y=t(9417),j=t(1797),w=t(4597),v=t(6689),N=t(6567);async function k(e,l){(0,r.k)([e,l])}let _=(0,w.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function P(){let e=f().get("accessToken"),{imageSrc:l,isLoading:t,isError:r}=(0,n.uP)(e);return t?(console.log("[ProfilePic] isLoading?",t),null):r?(console.log("[ProfilePic] isError?",r),null):(console.log("[ProfilePic] img_url swr: ",l),(0,a.useEffect)(()=>{},[]),(0,s.jsxs)("div",{className:"flex-col mx-4 my-4",children:[(0,s.jsx)("div",{className:"h-32 w-32",children:(0,s.jsx)("img",{src:l,className:"rounded-full size-fit"})}),(0,s.jsx)(y.Z,{component:"label",role:void 0,variant:"contained",tabIndex:-1,size:"small",startIcon:(0,s.jsx)(j.Z,{}),color:"success",children:(0,s.jsx)(_,{type:"file",onChange:l=>{console.log(l.target.files);let t=l.target.files[0];!function(l){if(void 0==l){console.log("Error: file undefined");return}if(!(l instanceof File)&!(l instanceof Blob)){console.log("Error: file must be of type File or Blob");return}let t=new FileReader;t.onload=function(){let s={};s.filename=l.name;let n=t.result,r=n.split(";base64,")[1];s.imageAsBase64String=r,s.metadata={"Content-Type":"image/png"};let a=new XMLHttpRequest;a.open("POST",N.T5+"/img",!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+e),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE&&200===a.status){let l=JSON.parse(a.responseText);"Success"==l.result?(console.log("Uploaded"),k("img_url",e)):console.log("failed to upload")}},a.send(JSON.stringify(s))},t.readAsDataURL(l)}(t)},multiple:!0})})]}))}function E(){return(0,s.jsx)(b.default,{component:function(){let e=f().get("accessToken"),{data:l,isLoading:t,isError:r}=(0,n.O_)(e);return t||r?null:(0,s.jsxs)("div",{className:"my-4 mx-4 flex-col w-3/4",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"my-4 bg-white w-1/4",children:(0,s.jsx)(P,{})}),(0,s.jsx)("div",{className:"my-4 bg-white w-3/4",children:(0,s.jsx)(p,{})})]}),(0,s.jsx)("div",{className:"my-4 bg-white",children:(0,s.jsx)(d,{plugin_code:l,clicked:!0})})]})}(),selected:v.g.Accounts})}}},function(e){e.O(0,[146,876,397,533,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);