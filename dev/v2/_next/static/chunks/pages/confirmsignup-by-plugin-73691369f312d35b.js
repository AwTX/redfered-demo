(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{3098:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/confirmsignup-by-plugin",function(){return t(3586)}])},6567:function(e,n,t){"use strict";t.d(n,{Mr:function(){return c},Rf:function(){return s},T5:function(){return o}});let o="https://890qn036x6.execute-api.eu-west-1.amazonaws.com/prod",s="eu-west-1_0xawMsGty",c="7b30d5nqk0gech4bec45dchalf"},3586:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var o=t(5893),s=t(6567),c=t(631),r=t(1163),l=t(7294);function i(){let[e,n]=(0,l.useState)(""),[t,i]=(0,l.useState)(null),a=(0,r.useRouter)();console.log(a.asPath);let{username:u,referrer:d}=a.query;console.log("Username:",u),console.log("Referrer:",d);let f=async n=>{n.preventDefault(),console.log("confirmationCode=",e),console.log("username=",u);try{var t={ClientId:s.Mr,ConfirmationCode:e,Username:u,ForceAliasCreation:!0};new c.i({region:"eu-west-1"}).confirmSignUp(t,function(e,n){e?(console.log(e,e.stack),i(e.message)):(console.log(n),i("Account confirmed! Redirecting back to plugin"),setTimeout(()=>{!function(e){console.log("Called 'redirectBack' function!");let n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200===n.status?(console.log("Succesfully redirected back"),window.location.href=e):console.error("Error redirecting back. xhr.status = ",n.status))},n.send()}(d)},1e3))})}catch(e){console.log("Error:",e)}};return(0,o.jsx)("div",{className:"bg-[url(./../public/bg.png)] h-screen w-screen flex items-center justify-center",children:(0,o.jsxs)("div",{className:"max-w-md p-8 rounded shadow-md",children:[(0,o.jsx)("h2",{className:"text-white text-2xl font-bold mb-4",children:"Enter Confirmation Code"}),(0,o.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("label",{htmlFor:"confirmationCode",className:"text-white font-bold mb-2",children:"Confirmation Code:"}),(0,o.jsx)("input",{type:"text",id:"confirmationCode",value:e,onChange:e=>n(e.target.value),className:"input-field"})]}),(0,o.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Verify"})]}),(0,o.jsx)("label",{className:"text-white font-bold mb-2",children:t&&(0,o.jsx)("p",{children:t})})]})})}}},function(e){e.O(0,[93,690,631,774,888,179],function(){return e(e.s=3098)}),_N_E=e.O()}]);