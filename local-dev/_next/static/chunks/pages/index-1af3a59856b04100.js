(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6616)}])},6567:function(e,t,n){"use strict";n.d(t,{T5:function(){return r}});let r="http://127.0.0.1:5000"},7753:function(e,t,n){"use strict";n.d(t,{$J:function(){return c},Dd:function(){return l},EG:function(){return i},Xh:function(){return h},ac:function(){return s},i9:function(){return f},oT:function(){return a},py:function(){return d},r0:function(){return o},xc:function(){return u}});var r=n(6567);async function s(e){let t=await fetch(r.T5+"/invitationcode?code="+e),n=await t.json(),s=JSON.parse(n.body);return s}async function o(e){let t=await fetch(r.T5+"/?user="+e),n=await t.json(),s=JSON.parse(n.body);return s.filenames}async function a(){let e=await fetch(r.T5+"/poolusers"),t=await e.json();console.log("[API] users json",t);let n=JSON.parse(t.body);return console.log("[API] users body",n),n.users}async function c(e){let t=await fetch(r.T5+"/mylogo?user="+e),n=await t.json(),s=JSON.parse(n.body);return s.imageUrl}async function i(e){let t=await fetch(r.T5+"/contracts?user="+e),n=await t.json();console.log("api_getContracts() returned:",n);let s=JSON.parse(n.body);return console.log("api_getContracts() body:",s),s}async function l(e,t,n){let s=await fetch(r.T5+"/showincarousel?user="+e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)}),o=await s.json(),a=JSON.parse(o.body);return a}async function u(e,t,n){let s=await fetch(r.T5+"/sendrequests?user="+e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)}),o=await s.json(),a=JSON.parse(o.body);return a}async function f(e,t,n){let s=await fetch(r.T5+"/acceptrequests?user="+e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)}),o=await s.json(),a=JSON.parse(o.body);return a}async function d(e,t){let n=await fetch(r.T5+"/update_contractText?user="+e,{method:"POST",mode:"cors",body:JSON.stringify(t)}),s=await n.json(),o=JSON.parse(s.body);return o}async function h(e,t){let n=await fetch(r.T5+"/send_contractText?user="+e,{method:"POST",mode:"cors",body:JSON.stringify(t)}),s=await n.json(),o=JSON.parse(s.body);return o}},2317:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(5893),s=n(7294),o=n(7753),a=n(1163);function c(){var[e,t]=(0,s.useState)(null);let n=(0,a.useRouter)();console.log(n.asPath);let c=n.asPath.split("?user=")[1];return console.log(c),(0,s.useEffect)(()=>{(async function(){if(null==e){let e=await (0,o.r0)(c);t(e)}})(),console.log("images=",e)},[e]),(0,r.jsx)("div",{className:"absolute bg-[url(../public/bg-carousel.png)] bg-no-repeat bg-center bg-cover w-screen h-screen mx-auto flex flex-shrink-0 justify-center items-center",children:(0,r.jsx)("div",{className:"flex flex-shrink-0 w-4/5 space-x-8 overflow-scroll no-scrollbar",children:(0,r.jsx)(function(e){let{images:t}=e;var[n,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{var e=[];null!==t&&(e=t.map((e,t)=>(0,r.jsx)("div",{className:"flex-shrink-0 w-96 relative",children:(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("img",{src:e,alt:"Image ".concat(t),layout:"fill",objectfit:"contain"})})},t))),o(e)},[t]),console.log("arr=",n),n},{images:e})})})}},6616:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5893),s=n(7294),o=n(9008),a=n.n(o),c=n(1664),i=n.n(c);n(2317);var l=n(7753),u=n(1163);function f(){let[e,t]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=async()=>{let e=await (0,l.oT)();console.log("result = ",e);let n=e.map((e,t)=>(0,r.jsx)("div",{children:(0,r.jsx)(i(),{href:{pathname:"/carousel",query:"user=".concat(e)},className:"text-white text-xl hover:underline",children:e},e)}));t(n)};e()},[]),e}function d(){let e=(0,u.useRouter)();async function t(){e.push("/signin")}async function n(){e.push("/invitationcode")}return(0,s.useEffect)(()=>{let{query:t}=e,{referrer:n}=t;null==n?console.log("referrer = null"):(console.log("referrer = ",n),function(e){console.log("Called 'redirectBackWithToken' function!");let t=function(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=t.length;for(let e=0;e<32;e++)n+=t.charAt(Math.floor(Math.random()*r));return n}(0);console.log("Generated Token: ",t);let n="".concat(e),r="".concat(e,"wp-json/redfered-plugin-api/token"),s=new XMLHttpRequest;s.open("POST",r,!0),s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&(200===s.status?console.log("POST request: success"):console.error("POST request: fail (status=",s.status))};var o=JSON.stringify({token:t});s.send(o);let a=new XMLHttpRequest;a.open("GET",n,!0),a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?(console.log("Succesfully redirected back with token:"),window.location.href=n):console.error("Error:",a.status))},a.send()}(n))},[e.query.referrer]),(0,r.jsxs)("div",{className:"absolute my-0 h-screen w-screen bg-[url(./../public/bg-black-orange.png)]",children:[(0,r.jsxs)("div",{className:"fixed top-0 right-0 m-4 flex space-x-2",children:[(0,r.jsx)("button",{type:"button",className:"text-white bg-ciano-500 hover:bg-ciano-800 focus:outline-none focus:ring-4 focus:ring-blue-800 font-medium rounded-full text-md px-5 py-2.5 text-center mr-2 mb-2",onClick:t,children:"Sign-in"}),(0,r.jsx)("button",{type:"button",className:"text-white bg-ciano-500 hover:bg-ciano-800 focus:outline-none focus:ring-4 focus:ring-blue-800 font-medium rounded-full text-md px-5 py-2.5 text-center mr-2 mb-2",onClick:n,children:"Sign-up"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Redfered"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("h1",{className:"py-20 text-7xl font-bold text-white",children:" Welcome to Redfered demo! "}),(0,r.jsx)("p",{className:"py-8 italic font-bold text-xl text-white",children:" carousels: "}),(0,r.jsx)(f,{})]})]}),(0,r.jsx)("footer",{className:"dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"relative my-40",children:[(0,r.jsx)("hr",{className:"my-3 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"}),(0,r.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,r.jsx)("span",{className:"text-white",children:"Powered by "}),(0,r.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,r.jsx)("img",{className:"flex",src:"./graftholders-small-logo.svg"}),(0,r.jsx)(i(),{className:"flex text-white",href:"https://graftholders.com",children:" Graftholders "})]})]})]})})]})}},9008:function(e,t,n){e.exports=n(2636)}},function(e){e.O(0,[424,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);