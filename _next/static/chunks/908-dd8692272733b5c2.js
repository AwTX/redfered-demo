(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{37753:function(e,t,r){"use strict";async function s(e){let t=await fetch("https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/?user="+e),r=await t.json();return r.filenames}async function n(){let e=await fetch("https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/poolusers"),t=await e.json();return t.users}async function a(e){let t=await fetch("https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/mylogo?user="+e),r=await t.json();return r.imageUrl}async function o(e){let t=await fetch("https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/contracts?user="+e),r=await t.json();return r}async function l(e,t,r){let s=await fetch("https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/showincarousel?user="+e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(t)}),n=await s.json();return n}async function c(e,t,r){let s=await fetch("https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/sendrequests?user="+e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(t)}),n=await s.json();return n}async function u(e,t,r){let s=await fetch("https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/acceptrequests?user="+e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(t)}),n=await s.json();return n}r.d(t,{$J:function(){return a},Dd:function(){return l},EG:function(){return o},i9:function(){return u},oT:function(){return n},r0:function(){return s},xc:function(){return c}})},66246:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(85893),n=r(37753),a=r(67294);function o(e){let{currentUser:t}=e;var[r,o]=(0,a.useState)("");async function l(){var e=document.getElementById("ul-sendRequests"),r=[];for(let t=0;t<e.children.length;t++){var s=e.children[t].children[0].children[0];s.checked,r.push(s.id)}console.log("sending requests to: ",r),await (0,n.xc)(t,{destinations:r});let a=await (0,n.EG)(t);o(a)}async function c(){var e=[],r=document.getElementById("ul-showInCarousel");for(let t=0;t<r.children.length;t++){var s=r.children[t].children[0].children[0],a=s.checked?1:0;let n=s.id;console.log("company=",n);let o={};o[n]=a,e.push(o)}let l={data:e};console.log("set showInCarousel=",l),await (0,n.Dd)(t,l);let c=await (0,n.EG)(t);o(c)}async function u(){var e=document.getElementById("ul-incomeRequests"),r=[];for(let t=0;t<e.children.length;t++){var s=e.children[t].children[0].children[0],a=s.checked?1:0;let n=s.id,o={};o[n]=a,r.push(o)}let l={data:r};console.log("accepting incoming requests: ",l),await (0,n.i9)(t,l);let c=await (0,n.EG)(t);o(c)}return(0,a.useEffect)(()=>{!async function(){if(void 0!==t){console.log(""===r),console.log(void 0!==t),console.log(t);let e=await (0,n.EG)(t);o(e)}}()},[t]),(0,s.jsxs)("div",{id:"checkboxid",className:"relative flex mx-auto space-x-20",children:[(0,s.jsxs)("div",{id:"div-sendRequests",className:"z-10 rounded-lg shadow w-60 bg-white",children:[(0,s.jsx)("h1",{className:"text-md text-center font-bold text-black-500",children:"Send request"}),(0,s.jsx)("p",{className:"text-sm text-center text-gray-700 px-2 pt-3 overflow-x-auto",children:"Ask companies for authorization to be referenced"}),(0,s.jsx)("ul",{id:"ul-sendRequests",className:"h-64 w-128 px-3 pb-3 pt-6 overflow-y-auto text-sm text-gray-700 text-gray-200","aria-labelledby":"dropdownSearchButton",children:(0,s.jsx)(function(e){let{currentUser:t,contracts:r}=e,[o,l]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=async()=>{let e=await (0,n.oT)();if(console.log("2. currentUser=",t),null==t)return;if(""==r|null==r){console.log("contracts=",r);return}let a=Object.keys(r.incomeRequests),o=Object.keys(r.outcomeRequests),c=e.filter(e=>e!==t),u=c.filter(e=>!o.includes(e)),i=u.filter(e=>!a.includes(e)),d=i.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600",children:[(0,s.jsx)("input",{id:e,type:"checkbox",defaultChecked:!1,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),(0,s.jsx)("label",{className:"w-full ml-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300",children:e})]})},e));l(d)};e()},[r]),o},{currentUser:t,contracts:r})}),(0,s.jsx)("button",{onClick:l,className:"relative flex items-center w-full p-3 text-sm font-medium text-white border-t border-gray-200 rounded-b-lg border-gray-600 bg-blue-400 text-gray-500 hover:underline",children:"Send"})]}),(0,s.jsxs)("div",{id:"div-sentRequests",className:"z-10 rounded-lg shadow w-60 bg-white",children:[(0,s.jsx)("h1",{className:"text-md text-center font-bold text-black-500",children:"Sent requests"}),(0,s.jsx)("p",{className:"text-sm text-center text-gray-700 px-2 pt-3 overflow-x-auto",children:"Here the list of forwarded requests. Waiting for authorization!"}),(0,s.jsx)("ul",{id:"ul-sentRequests",className:"h-64 w-128 px-3 pb-3 pt-6 overflow-y-auto text-sm text-gray-700 text-gray-200","aria-labelledby":"dropdownSearchButton",children:(0,s.jsx)(function(e){let{currentUser:t,contracts:r}=e,[n,o]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=async()=>{if(console.log("3. currentUser=",t),null==t)return;if(""==r|null==r){console.log("contracts=",r);return}let e=Object.entries(r.outcomeRequests).filter(e=>{let[t,r]=e;return!1===r.accepted}).map(e=>{let[t,r]=e;return t});console.log("sentItems=",e),console.log(e);let n=e.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)("div",{className:"flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600",children:(0,s.jsx)("label",{className:"w-full ml-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300",children:e})})},e));o(n)};e()},[r]),n},{currentUser:t,contracts:r})})]}),(0,s.jsxs)("div",{id:"div-acceptedByRequests",className:"z-10 rounded-lg shadow w-60 bg-white",children:[(0,s.jsx)("h1",{className:"text-md text-center font-bold text-black-500",children:"Accepted-by requests"}),(0,s.jsx)("p",{className:"text-sm text-center text-gray-700 px-2 pt-3 overflow-x-auto",children:"Select the authorized logos to show in your carousel"}),(0,s.jsx)("ul",{id:"ul-showInCarousel",className:"h-64 w-128 px-3 pb-3 pt-6 overflow-y-auto text-sm text-gray-700 text-gray-200","aria-labelledby":"dropdownSearchButton",children:(0,s.jsx)(function(e){let{currentUser:t,contracts:r}=e,[n,o]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=async()=>{if(console.log("1. currentUser=",t),null==t)return;if(""==r|null==r){console.log("contracts=",r);return}let e=Object.entries(r.outcomeRequests).filter(e=>{let[t,r]=e;return r.accepted}).map(e=>{let[t,r]=e;return{[t]:r}});console.log("acceptedItems=",e),console.log(e);let n=e.map((e,t)=>{console.log("resource=",e),console.log("index=",t);let r=Object.keys(e)[0],n=e[r].showInCarousel;return console.log("key=",r),console.log("showincarousel=",n),(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600",children:[(0,s.jsx)("input",{id:r,type:"checkbox",defaultChecked:n,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),(0,s.jsx)("label",{className:"w-full ml-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300",children:r})]})},r)});o(n)};e()},[r]),n},{currentUser:t,contracts:r})}),(0,s.jsx)("button",{onClick:c,className:"flex items-center w-full p-3 text-sm font-medium text-white border-t border-gray-200 rounded-b-lg border-gray-600 bg-blue-400 text-gray-500 hover:underline",children:"Save"})]}),(0,s.jsxs)("div",{id:"div-incomeRequests",className:"z-10 rounded-lg shadow w-60 bg-white",children:[(0,s.jsx)("h1",{className:"text-md text-center font-bold text-black-500",children:"Incoming requests"}),(0,s.jsx)("p",{className:"text-sm text-center text-gray-700 px-2 pt-3 overflow-x-auto",children:"Grant authorization to these companies to use your logo"}),(0,s.jsx)("ul",{id:"ul-incomeRequests",className:"h-64 w-128 px-3 pb-3 pt-6 overflow-y-auto text-sm text-gray-700 text-gray-200","aria-labelledby":"dropdownSearchButton",children:(0,s.jsx)(function(e){let{currentUser:t,contracts:r}=e,[n,o]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=async()=>{if(console.log("4. currentUser=",t),null==t)return;if(""==r|null==r){console.log("contracts=",r);return}if(0===Object.keys(r.incomeRequests).length)return;let e=Object.keys(r.incomeRequests),n=e.map((e,t)=>{let n=r.incomeRequests[e].accepted;return(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600",children:[(0,s.jsx)("input",{id:e,type:"checkbox",defaultChecked:n,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),(0,s.jsx)("label",{className:"w-full ml-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300",children:e})]})},e)});o(n)};e()},[r]),n},{currentUser:t,contracts:r})}),(0,s.jsx)("button",{onClick:u,className:"flex items-center w-full p-3 text-sm font-medium text-white border-t border-gray-200 rounded-b-lg border-gray-600 bg-blue-400 text-blue-500 hover:underline",children:"Save"})]})]})}r(98690)},28022:function(){}}]);