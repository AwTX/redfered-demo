(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{15873:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/companysettings",function(){return n(46594)}])},32317:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var s=n(85893),a=n(67294),l=n(37753),o=n(11163);function i(){var[e,t]=(0,a.useState)(null);let n=(0,o.useRouter)();console.log(n.asPath);let i=n.asPath.split("?user=")[1];return console.log(i),(0,a.useEffect)(()=>{(async function(){if(null==e){let e=await (0,l.r0)(i);t(e)}})(),console.log("images=",e)},[e]),(0,s.jsx)("div",{className:"my-40 flex items-center space-x-4 overflow-x-auto",children:(0,s.jsx)("div",{className:"flex flex-shrink-0 h-48 space-x-8 scrollbar-hide",children:(0,s.jsx)(function(e){let{images:t}=e;var[n,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{var e=[];null!==t&&(e=t.map((e,t)=>(0,s.jsx)("div",{className:"flex-shrink-0 w-96 h-48 relative",children:(0,s.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:e,alt:"Image ".concat(t),layout:"fill",objectFit:"contain"})})},t))),l(e)},[t]),console.log("arr=",n),n},{images:e})})})}},46594:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(85893);n(32317);var a=n(41664),l=n.n(a),o=n(37753),i=n(66246),r=n(67294),c=n(11163);function d(){let e=(0,c.useRouter)();console.log("router.asPath=",e.asPath);let t=e.query.user,n=e.query.access_token;console.log("CompanySettings: user=",t),console.log("CompanySettings: accessToken=",n);let a=(0,r.useRef)(null);(0,r.useRef)(null);let[d,u]=(0,r.useState)(null);async function f(){if(0!=a.current.files.length){var e=a.current.files[0].name,s=a.current.files[0],l=new FileReader;l.onload=function(){var s={};s.filename=e,s.user=t;var a=l.result.split(";base64,")[1];s.imageAsBase64String=a,s.metadata={"Content-Type":"image/png"};var o=new XMLHttpRequest;o.open("POST","https://aeqecpdb0g.execute-api.eu-west-1.amazonaws.com/prod/",!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization","Bearer "+n),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE&&200===o.status){var e=JSON.parse(o.responseText);"Success"==e.result?u(e.imageUrl):console.log("failed to upload"),console.log(e)}},o.send(JSON.stringify(s))},l.readAsDataURL(s)}}async function m(){var e=document.getElementById("div-CheckboxList"),t=document.getElementById("div-MyLogoPage"),n=document.getElementById("id-btn-Contracts");document.getElementById("id-btn-MyLogo").classList.remove("text-white"),e.classList.add("hidden"),n.classList.add("text-white"),e.classList.remove("hidden"),t.classList.add("hidden"),console.log("Contracts")}async function g(){var e=document.getElementById("div-CheckboxList"),t=document.getElementById("div-MyLogoPage"),n=document.getElementById("id-btn-Contracts"),s=document.getElementById("id-btn-MyLogo");n.classList.remove("text-white"),s.classList.add("text-white"),e.classList.add("hidden"),t.classList.remove("hidden"),console.log("Logo")}return(0,r.useEffect)(()=>{(async function(){if(null==d){let e=await (0,o.$J)(t,n);u(e)}})()},[t]),(0,r.useEffect)(()=>{console.log("useEffect on imageSrc")},[d]),(0,s.jsxs)("div",{className:"absolute my-0 h-screen w-screen bg-green-400",children:[(0,s.jsx)(function(e){let{user:t}=e;var[n,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=(0,s.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,s.jsx)(l(),{id:"id-Link-Home",href:{pathname:"/"},className:"mx-6 text-xl font-bold hover:underline",children:"Home"},"Link-Home"),(0,s.jsx)("button",{id:"id-btn-Contracts",onClick:m,className:"mx-6 text-xl font-bold hover:underline text-white",children:"Contracts"}),(0,s.jsx)("button",{id:"id-btn-MyLogo",onClick:g,className:"mx-6 text-xl font-bold hover:underline",children:"My logo"}),(0,s.jsx)(l(),{id:"id-Link-Carousel",href:{pathname:"/carousel",query:"user=".concat(t)},className:"mx-6 text-xl font-bold hover:underline",children:"My Carousel"},"Link-Carousel")]});a(e)},[t]),n},{user:t}),(0,s.jsxs)("div",{id:"div-MyLogoPage",className:"flex space-x-8 m-20 hidden",children:[(0,s.jsxs)("div",{id:"div-MyLogo",className:"flex flex-col space-y-4",children:[(0,s.jsx)("input",{className:"text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"upload_file",type:"file",ref:a}),(0,s.jsx)("button",{type:"button",className:"text-black bg-purple-300 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center",onClick:f,children:"Upload image"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("img",{id:"uploadedImage",src:d,alt:"Preview",className:"max-w-full max-h-full hover:ring-white-900"})})]}),(0,s.jsx)("div",{id:"div-CheckboxList",className:"static container flex mx-auto py-40",children:(0,s.jsx)(i.default,{currentUser:t})})]})}}},function(e){e.O(0,[586,764,690,424,908,774,888,179],function(){return e(e.s=15873)}),_N_E=e.O()}]);