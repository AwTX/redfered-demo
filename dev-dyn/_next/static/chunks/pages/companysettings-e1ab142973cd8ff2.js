(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{15873:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/companysettings",function(){return n(46594)}])},32317:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n(85893),l=n(67294),a=n(79080),o=n(11163);function r(){var[e,t]=(0,l.useState)(null);let n=(0,o.useRouter)();console.log(n.asPath);let r=n.asPath.split("?user=")[1];return console.log(r),(0,l.useEffect)(()=>{(async function(){if(null==e){let e=await (0,a.r0)(r);t(e)}})(),console.log("images=",e)},[e]),(0,s.jsx)("div",{className:"absolute bg-[url(../public/bg-carousel.png)] bg-no-repeat bg-center bg-cover w-screen h-screen mx-auto flex flex-shrink-0 justify-center items-center",children:(0,s.jsx)("div",{className:"flex flex-shrink-0 w-4/5 space-x-8 overflow-scroll no-scrollbar",children:(0,s.jsx)(function(e){let{images:t}=e;var[n,a]=(0,l.useState)(null);return(0,l.useEffect)(()=>{var e=[];null!==t&&(e=t.map((e,t)=>(0,s.jsx)("div",{className:"flex-shrink-0 w-96 relative",children:(0,s.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:e,alt:"Image ".concat(t),layout:"fill",objectfit:"contain"})})},t))),a(e)},[t]),console.log("arr=",n),n},{images:e})})})}},46594:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(85893);n(32317);var l=n(56567),a=n(41664),o=n.n(a),r=n(79080),i=n(66246),c=n(67294),u=n(11163);function d(){let e=(0,u.useRouter)();console.log("router.asPath=",e.asPath);let t=e.query.user,n=e.query.access_token;console.log("CompanySettings: user=",t),console.log("CompanySettings: accessToken=",n);let a=(0,c.useRef)(null);(0,c.useRef)(null);let[d,f]=(0,c.useState)(null);async function g(){if(0!=a.current.files.length){var e=a.current.files[0].name,s=a.current.files[0],o=new FileReader;o.onload=function(){var s={};s.filename=e,s.user=t;var a=o.result.split(";base64,")[1];s.imageAsBase64String=a,s.metadata={"Content-Type":"image/png"};var r=new XMLHttpRequest;r.open("POST",l.T5+"/",!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","Bearer "+n),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE&&200===r.status){var e=JSON.parse(r.responseText);"Success"==e.result?f(e.imageUrl):console.log("failed to upload"),console.log(e)}},r.send(JSON.stringify(s))},o.readAsDataURL(s)}}async function m(){var e=document.getElementById("div-CheckboxList"),t=document.getElementById("div-MyLogoPage"),n=document.getElementById("id-btn-Contracts");e.classList.add("hidden"),n.classList.add("text-white"),e.classList.remove("hidden"),t.classList.add("hidden"),console.log("Contracts")}async function x(){var e=document.getElementById("div-CheckboxList"),t=document.getElementById("div-MyLogoPage");document.getElementById("id-btn-Contracts"),document.getElementById("id-btn-MyLogo").classList.add("text-white"),e.classList.add("hidden"),t.classList.remove("hidden"),console.log("Logo")}return(0,c.useEffect)(()=>{(async function(){if(null==d){let e=await (0,r.$J)(t,n);f(e)}})()},[t]),(0,c.useEffect)(()=>{console.log("useEffect on imageSrc")},[d]),(0,s.jsxs)("div",{className:"bg-[url(./../public/bg.png)] absolute my-0 h-screen w-screen bg-gray-200",children:[(0,s.jsx)(function(e){let{user:t}=e;var[n,l]=(0,c.useState)("");return(0,c.useEffect)(()=>{let e=(0,s.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,s.jsx)(o(),{id:"id-Link-Home",href:{pathname:"/"},className:"mx-6 text-xl font-bold hover:underline text-white",children:"Home"},"Link-Home"),(0,s.jsx)("button",{id:"id-btn-Contracts",onClick:m,className:"mx-6 text-xl font-bold hover:underline text-white",children:"Contracts"}),(0,s.jsx)("button",{id:"id-btn-MyLogo",onClick:x,className:"mx-6 text-xl font-bold hover:underline text-white",children:"My logo"}),(0,s.jsx)(o(),{id:"id-Link-Carousel",href:{pathname:"/carousel",query:"user=".concat(t)},className:"mx-6 text-xl font-bold hover:underline text-white",children:"My Carousel"},"Link-Carousel")]});l(e)},[t]),n},{user:t}),(0,s.jsxs)("div",{id:"div-MyLogoPage",className:"flex space-x-8 m-20 hidden",children:[(0,s.jsxs)("div",{id:"div-MyLogo",className:"flex flex-col space-y-4",children:[(0,s.jsx)("input",{className:"text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"upload_file",type:"file",ref:a}),(0,s.jsx)("button",{type:"button",className:"bg-orange-600 text-gray-500 hover:bg-orange-400 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center",onClick:g,children:"Upload image"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("img",{id:"uploadedImage",src:d,alt:"Preview",className:"max-w-full max-h-full hover:ring-white-900"})})]}),(0,s.jsx)("div",{id:"div-CheckboxList",className:"static container flex mx-auto py-40",children:(0,s.jsx)(i.default,{currentUser:t})})]})}}},function(e){e.O(0,[586,764,690,424,908,774,888,179],function(){return e(e.s=15873)}),_N_E=e.O()}]);